{"version":3,"sources":["surfacingSections.js"],"names":["allParts","Array","from","document","querySelectorAll","getSurfacing","entry","entries","isIntersecting","target","classList","remove","observer","unobserve","surfacingObserver","IntersectionObserver","threshold","surfacingSections","rect","getBoundingClientRect","isVisible","part","innerHeight","console","log","top","window","bottom","add","observe"],"mappings":"AACA,IAAMA,SAAWC,MAAMC,KAAKC,SAASC,iBAAiB,SAAW,CAAA,EAG3DC,aAAe,SAAfA,EAAYA,GACVC,EAAQC,EAAU,GACnBD,EAAME,iBACXF,EAAMG,OAAOC,UAAUC,OAAO,cAAc,EAC5CC,EAASC,UAAUP,EAAMG,MAAM,EACjC,EAGMK,kBAAM,IAAAC,qBAAAV,aAAA,CACVW,KAAAA,KACAA,UAAA,GAEF,CAAA,EAEIC,kBAAA,WADFjB,SAEQkB,QAAW,SAACC,GAElB,IAAMC,EAASC,EAAGH,sBAAkBI,EACpCC,QAAAC,IAAAN,CAAA,EACAA,EAAAO,IAAAC,OAAAJ,aAAA,EAAAJ,EAAAS,QAKCN,EAAMX,UAAAC,OAAA,cAAA,EACLU,kBAAkBR,UAACQ,CAAA,IAErBA,EAAAX,UAAAkB,IAAA,cAAA,EACAd,kBAAAe,QAAAR,CAAA,EAGJ,CAAA,CAFA,iBAEeJ","file":"surfacingSections.js","sourcesContent":["// SURFACING SECTIONS\r\nconst allParts = Array.from(document.querySelectorAll(\"section\"));\r\n// allParts.splice(0, 2); //удаляю первые 2 секции для того, чтобы observer их не учитывал\r\n\r\nconst getSurfacing = function (entries, observer) {\r\n  const entry = entries[0];\r\n  if (!entry.isIntersecting) return;\r\n  entry.target.classList.remove(\"part--hidden\");\r\n  observer.unobserve(entry.target);\r\n};\r\n\r\nconst surfacingObserver = new IntersectionObserver(getSurfacing, {\r\n  root: null,\r\n  threshold: 0.02,\r\n});\r\n\r\nconst surfacingSections = () => {\r\n  allParts.forEach(function (part) {\r\n    // Проверяем, если элемент уже в поле видимости\r\n    const rect = part.getBoundingClientRect();\r\n    console.log(rect);\r\n    const isVisible = rect.top < window.innerHeight && rect.bottom > 0; // получается что хоть кусочек если в поле видимости, то этот элемент уже не скрывается\r\n    // console.log(window.innerHeight);\r\n    // console.log(isVisible);\r\n\r\n    if (isVisible) {\r\n      part.classList.remove(\"part--hidden\");\r\n      surfacingObserver.unobserve(part); // Отключаем наблюдение за видимым элементом\r\n    } else {\r\n      part.classList.add(\"part--hidden\"); // Добавляем класс, если элемент не виден\r\n      surfacingObserver.observe(part); // Начинаем наблюдение за элементом\r\n    }\r\n  });\r\n};\r\n\r\nexport default surfacingSections;\r\n"]}