{"version":3,"sources":["surfacingSections.js"],"names":["allParts","Array","from","document","querySelectorAll","getSurfacing","entry","entries","isIntersecting","target","classList","remove","observer","unobserve","surfacingObserver","IntersectionObserver","threshold","surfacingSections","rect","getBoundingClientRect","isVisible","part","innerHeight","console","log","top","window","bottom","add","observe"],"mappings":"AACA,IAAMA,SAAWC,MAAMC,KAAKC,SAASC,iBAAiB,SAAW,CAAA,EAG3DC,aAAe,SAAfA,EAAYA,GACVC,EAAQC,EAAU,GACnBD,EAAME,iBACXF,EAAMG,OAAOC,UAAUC,OAAO,cAAc,EAC5CC,EAASC,UAAUP,EAAMG,MAAM,EACjC,EAGMK,kBAAM,IAAAC,qBAAAV,aAAA,CACVW,KAAAA,KACAA,UAAA,GAEF,CAAA,EAEIC,kBAAA,WADFjB,SAEQkB,QAAW,SAACC,GAElB,IAAMC,EAASC,EAAGH,sBAAkBI,EACpCC,QAAAC,IAAAN,CAAA,EACAA,EAAAO,IAAAC,OAAAJ,aAAA,EAAAJ,EAAAS,QAKCN,EAAMX,UAAAC,OAAA,cAAA,EACLU,kBAAkBR,UAACQ,CAAA,IAErBA,EAAAX,UAAAkB,IAAA,cAAA,EACAd,kBAAAe,QAAAR,CAAA,EAGJ,CAAA,CAFA,iBAEeJ","file":"surfacingSections.js","sourcesContent":["// SURFACING SECTIONS\nconst allParts = Array.from(document.querySelectorAll(\"section\"));\n// allParts.splice(0, 2); //удаляю первые 2 секции для того, чтобы observer их не учитывал\n\nconst getSurfacing = function (entries, observer) {\n  const entry = entries[0];\n  if (!entry.isIntersecting) return;\n  entry.target.classList.remove(\"part--hidden\");\n  observer.unobserve(entry.target);\n};\n\nconst surfacingObserver = new IntersectionObserver(getSurfacing, {\n  root: null,\n  threshold: 0.02,\n});\n\nconst surfacingSections = () => {\n  allParts.forEach(function (part) {\n    // Проверяем, если элемент уже в поле видимости\n    const rect = part.getBoundingClientRect();\n    console.log(rect);\n    const isVisible = rect.top < window.innerHeight && rect.bottom > 0; // получается что хоть кусочек если в поле видимости, то этот элемент уже не скрывается\n    // console.log(window.innerHeight);\n    // console.log(isVisible);\n\n    if (isVisible) {\n      part.classList.remove(\"part--hidden\");\n      surfacingObserver.unobserve(part); // Отключаем наблюдение за видимым элементом\n    } else {\n      part.classList.add(\"part--hidden\"); // Добавляем класс, если элемент не виден\n      surfacingObserver.observe(part); // Начинаем наблюдение за элементом\n    }\n  });\n};\n\nexport default surfacingSections;\n"]}