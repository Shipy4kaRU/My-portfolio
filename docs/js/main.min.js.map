{"version":3,"sources":["main.min.js"],"names":["hoverNavLinks","closeMenu","showModalWindow","hideModalWindow","scrollTo","PROJECTS_LIST","addProjectsToHTML","stickyNavObserver","showProjects","setFeatureSummaryRotate","openMenuFeatures","changeTheme","checkThemeFromLocalStorage","surfacingSections","createAllFeatures","FEATURES_LIST","preloadedImage","allProjectsBtn","document","querySelector","personProjectsBtn","trainingProjectsBtn","supportsWebP","canvas","createElement","getContext","toDataURL","indexOf","window","onload","pixelRatio","devicePixelRatio","imageSuffix","getElementById","checked","matchMedia","matches","Image","src","concat","isWebPSupported","menu","main","btnMenu","addEventListener","header","btnDisploma","style","paddingTop","bioSect","bind","observe","btnCloseModal","btnList","overlay","e","allProjects","querySelectorAll","modalWindow","innerHTML","btnsProjects","target","featureBtns","length","featureSummary","btn","closest","btnsNavList","forEach"],"mappings":"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","file":"main.min.js","sourcesContent":["import { hoverNavLinks } from \"./DarkeningNav.js\";\nimport { closeMenu } from \"./menu.js\";\nimport { showModalWindow } from \"./modalWindow.js\";\nimport { hideModalWindow } from \"./modalWindow.js\";\n//import { toKnowHeaderHeight } from \"./navigation.js\";\nimport { scrollTo } from \"./navigation.js\";\nimport { PROJECTS_LIST } from \"./PROJECTS_LIST.js\";\nimport { addProjectsToHTML } from \"./projects.js\";\nimport { stickyNavObserver } from \"./navigation.js\";\nimport { showProjects } from \"./projects.js\";\nimport { setFeatureSummaryRotate } from \"./feature.js\";\nimport { openMenuFeatures } from \"./feature.js\";\nimport { changeTheme } from \"./changingTheme.js\";\nimport { checkThemeFromLocalStorage } from \"./changingTheme.js\";\nimport surfacingSections from \"./surfacingSections.js\";\nimport createAllFeatures from \"./features.js\";\nimport { FEATURES_LIST } from \"./FEATURES_LIST.js\";\n\n// CONSTANTS\n\nconst allProjectsBtn = document.querySelector(\".jsOnlyAllProjects\");\nconst personProjectsBtn = document.querySelector(\".jsOnlyPersonProjects\");\nconst trainingProjectsBtn = document.querySelector(\".jsOnlyTrainingProjects\");\n\n// PRELOAD IMAGE OF MODALWINDOW\n\nexport let preloadedImage;\n\n// Функция для проверки поддержки WebP\nexport function supportsWebP() {\n  const canvas = document.createElement(\"canvas\");\n  if (!canvas.getContext || !canvas.getContext(\"2d\")) {\n    return false;\n  }\n  return canvas.toDataURL(\"image/webp\").indexOf(\"data:image/webp\") === 0;\n}\n\nwindow.onload = function () {\n  // Определяем устройство и загружаем соответствующее изображение\n  const isWebPSupported = supportsWebP();\n  const pixelRatio = window.devicePixelRatio; // Получаем коэффициент пикселей\n\n  const firstProjectsBtn = document.getElementById(\"all-ptojects\");\n  firstProjectsBtn.checked = true;\n\n  let imageSuffix = \"\";\n  if (pixelRatio >= 4) {\n    imageSuffix = \"4x\"; // Retina 4x\n  } else if (pixelRatio >= 3) {\n    imageSuffix = \"3x\"; // Retina 3x\n  } else if (pixelRatio >= 2) {\n    imageSuffix = \"2x\"; // Retina 2x\n  } else {\n    imageSuffix = \"\"; // no Retina\n  }\n\n  if (window.matchMedia(\"(min-width: 1280px)\").matches) {\n    preloadedImage = new Image();\n    preloadedImage.src = isWebPSupported\n      ? `./img/CollegeGradesDesk${imageSuffix}.webp`\n      : `./img/CollegeGradesDesk${imageSuffix}.jpg`; // Desktops\n  } else if (window.matchMedia(\"(min-width: 768px)\").matches) {\n    preloadedImage = new Image();\n    preloadedImage.src = isWebPSupported\n      ? `./img/CollegeGradesTablet${imageSuffix}.webp`\n      : `./img/CollegeGradesTablet${imageSuffix}.jpg`; // Tablets\n  } else {\n    preloadedImage = new Image();\n    preloadedImage.src = isWebPSupported\n      ? `./img/CollegeGradesMobile${imageSuffix}.webp`\n      : `./img/CollegeGradesMobile${imageSuffix}.jpg`; // Mobiles\n  }\n};\n\n// MENU\nconst main = document.querySelector(\".main\");\nconst menu = document.querySelector(\".nav__list\");\nconst btnMenu = document.querySelector(\".nav__btn-menu\");\nconst header = document.querySelector(\".header__container\");\n\n(function () {\n  main.style.paddingTop = `calc(3em)`;\n})();\n\nbtnMenu.addEventListener(\"click\", closeMenu);\n\ncloseMenu();\n\n// DARKENING NAVIGATION\nheader.addEventListener(\"mouseover\", hoverNavLinks.bind(\"0.4\"));\nheader.addEventListener(\"mouseout\", hoverNavLinks.bind(\"1\"));\n\n// SCROLLING TO SECTIONS FROM NAVIGATION\n\nconst btnList = document.querySelector(\".nav__list\");\n\nbtnList.addEventListener(\"click\", function (e) {\n  closeMenu();\n  scrollTo(e);\n});\n\n// STICKY NAVIGATION\nconst bioSect = document.querySelector(\".bio\");\n\nstickyNavObserver.observe(bioSect);\n\n// MODAL WINDOWS\nconst body = document.querySelector(\".body\");\nconst btnDisploma = document.querySelector(\".js-education__btn-click\");\n\nconst modalWindow = document.querySelector(\".modal\");\nconst overlay = document.querySelector(\".overlay\");\nconst btnCloseModal = document.querySelector(\".modal__btn\");\n\nbtnDisploma.addEventListener(\"click\", function () {\n  showModalWindow(\"CollegeGrades\", \"Мое фото\");\n});\noverlay.addEventListener(\"click\", hideModalWindow);\nbtnCloseModal.addEventListener(\"click\", hideModalWindow);\n\n//PROJECTS_LIST\n\naddProjectsToHTML(PROJECTS_LIST);\n\nconst allProjects = document.querySelectorAll(\".projects__item\");\n\n// SET NUMBER OF PROJECTS INTO THE PROJECTS BTNS\n\nallProjectsBtn.innerHTML = `Все проекты (${allProjects.length})`;\npersonProjectsBtn.innerHTML = `Личные проекты (${\n  document.querySelectorAll(\".jsPersonProject\").length\n})`;\ntrainingProjectsBtn.innerHTML = `Тренировка навыков (${\n  document.querySelectorAll(\".jsTrainingProject\").length\n})`;\n\n// PROJECTS__BUTTONS\nconst btnsProjects = document.querySelector(\".projects__btn-list\");\n\nbtnsProjects.addEventListener(\"click\", function (e) {\n  const btn = e.target;\n  if (!btn.closest(\".projects__btn\")) return;\n  if (btn.closest(\".jsOnlyAllProjects\"))\n    return showProjects(allProjects, \"projects__item\");\n  if (btn.closest(\".jsOnlyPersonProjects\"))\n    return showProjects(allProjects, \"jsPersonProject\");\n  if (btn.closest(\".jsOnlyTrainingProjects\"))\n    showProjects(allProjects, \"jsTrainingProject\");\n});\n\n// CREATING ALL FEATURES\n\ncreateAllFeatures(FEATURES_LIST);\n\n// ROTATE FOR FEATURES\n\nconst featureSummary = document.querySelectorAll(\".feature__summary\");\n\nsetFeatureSummaryRotate(featureSummary);\n\n// OPENING FEATURES\n\nconst featureBtns = document.querySelectorAll(\".feature__button\");\n\nfeatureBtns.forEach((btn) => btn.addEventListener(\"click\", openMenuFeatures));\n\n// CHANGING THEME\ncheckThemeFromLocalStorage();\nconst btnsNavList = document.querySelector(\".nav__btn-wrapper\");\n\nbtnsNavList.addEventListener(\"click\", changeTheme);\n\n// SURFACING PARTS\nsurfacingSections();\n"]}