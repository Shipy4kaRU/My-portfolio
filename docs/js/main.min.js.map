{"version":3,"sources":["main.min.js"],"names":["hoverNavLinks","closeMenu","showModalWindow","hideModalWindow","scrollTo","PROJECTS_LIST","addProjectsToHTML","stickyNavObserver","showProjects","setFeatureSummaryRotate","openMenuFeatures","changeTheme","checkThemeFromLocalStorage","preloadedImage","allProjectsBtn","document","querySelector","personProjectsBtn","trainingProjectsBtn","supportsWebP","canvas","createElement","getContext","toDataURL","indexOf","window","onload","pixelRatio","devicePixelRatio","imageSuffix","getElementById","checked","matchMedia","matches","Image","src","concat","isWebPSupported","menu","main","btnMenu","addEventListener","header","btnCloseModal","style","paddingTop","bioSect","bind","body","btnList","allProjects","observe","querySelectorAll","btnDisploma","modalWindow","innerHTML","btnsProjects","e","target","length","featureBtns","btn","btnsNavList","closest","forEach"],"mappings":"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","file":"main.min.js","sourcesContent":["import { hoverNavLinks } from \"./DarkeningNav.js\";\nimport { closeMenu } from \"./menu.js\";\nimport { showModalWindow } from \"./modalWindow.js\";\nimport { hideModalWindow } from \"./modalWindow.js\";\n//import { toKnowHeaderHeight } from \"./navigation.js\";\nimport { scrollTo } from \"./navigation.js\";\nimport { PROJECTS_LIST } from \"./PROJECTS_LIST.js\";\nimport { addProjectsToHTML } from \"./projects.js\";\nimport { stickyNavObserver } from \"./navigation.js\";\nimport { showProjects } from \"./projects.js\";\nimport { setFeatureSummaryRotate } from \"./feature.js\";\nimport { openMenuFeatures } from \"./feature.js\";\nimport { changeTheme } from \"./changingTheme.js\";\nimport { checkThemeFromLocalStorage } from \"./changingTheme.js\";\n\n// CONSTANTS\n\nconst allProjectsBtn = document.querySelector(\".jsOnlyAllProjects\");\nconst personProjectsBtn = document.querySelector(\".jsOnlyPersonProjects\");\nconst trainingProjectsBtn = document.querySelector(\".jsOnlyTrainingProjects\");\n\n// PRELOAD IMAGE OF MODALWINDOW\n\nexport let preloadedImage;\n\n// Функция для проверки поддержки WebP\nexport function supportsWebP() {\n  const canvas = document.createElement(\"canvas\");\n  if (!canvas.getContext || !canvas.getContext(\"2d\")) {\n    return false;\n  }\n  return canvas.toDataURL(\"image/webp\").indexOf(\"data:image/webp\") === 0;\n}\n\nwindow.onload = function () {\n  // Определяем устройство и загружаем соответствующее изображение\n  const isWebPSupported = supportsWebP();\n  const pixelRatio = window.devicePixelRatio; // Получаем коэффициент пикселей\n\n  const firstProjectsBtn = document.getElementById(\"all-ptojects\");\n  firstProjectsBtn.checked = true;\n\n  let imageSuffix = \"\";\n  if (pixelRatio >= 4) {\n    imageSuffix = \"4x\"; // Retina 4x\n  } else if (pixelRatio >= 3) {\n    imageSuffix = \"3x\"; // Retina 3x\n  } else if (pixelRatio >= 2) {\n    imageSuffix = \"2x\"; // Retina 2x\n  } else {\n    imageSuffix = \"\"; // no Retina\n  }\n\n  if (window.matchMedia(\"(min-width: 1280px)\").matches) {\n    preloadedImage = new Image();\n    preloadedImage.src = isWebPSupported\n      ? `./img/CollegeGradesDesk${imageSuffix}.webp`\n      : `./img/CollegeGradesDesk${imageSuffix}.jpg`; // Desktops\n  } else if (window.matchMedia(\"(min-width: 768px)\").matches) {\n    preloadedImage = new Image();\n    preloadedImage.src = isWebPSupported\n      ? `./img/CollegeGradesTablet${imageSuffix}.webp`\n      : `./img/CollegeGradesTablet${imageSuffix}.jpg`; // Tablets\n  } else {\n    preloadedImage = new Image();\n    preloadedImage.src = isWebPSupported\n      ? `./img/CollegeGradesMobile${imageSuffix}.webp`\n      : `./img/CollegeGradesMobile${imageSuffix}.jpg`; // Mobiles\n  }\n};\n\n// MENU\nconst main = document.querySelector(\".main\");\nconst menu = document.querySelector(\".nav__list\");\nconst btnMenu = document.querySelector(\".nav__btn-menu\");\nconst header = document.querySelector(\".header__container\");\n\n(function () {\n  main.style.paddingTop = `calc(3em)`;\n})();\n\nbtnMenu.addEventListener(\"click\", closeMenu);\n\ncloseMenu();\n\n// DARKENING NAVIGATION\nheader.addEventListener(\"mouseover\", hoverNavLinks.bind(\"0.4\"));\nheader.addEventListener(\"mouseout\", hoverNavLinks.bind(\"1\"));\n\n// SCROLLING TO SECTIONS FROM NAVIGATION\n\nconst btnList = document.querySelector(\".nav__list\");\n\nbtnList.addEventListener(\"click\", scrollTo);\n\n// STICKY NAVIGATION\nconst bioSect = document.querySelector(\".bio\");\n\nstickyNavObserver.observe(bioSect);\n\n// MODAL WINDOWS\nconst body = document.querySelector(\".body\");\nconst btnDisploma = document.querySelector(\".js-education__btn-click\");\n\nconst modalWindow = document.querySelector(\".modal\");\nconst overlay = document.querySelector(\".overlay\");\nconst btnCloseModal = document.querySelector(\".modal__btn\");\n\nbtnDisploma.addEventListener(\"click\", function () {\n  showModalWindow(\"CollegeGrades\", \"Мое фото\");\n});\noverlay.addEventListener(\"click\", hideModalWindow);\nbtnCloseModal.addEventListener(\"click\", hideModalWindow);\n\n//PROJECTS_LIST\n\naddProjectsToHTML(PROJECTS_LIST);\n\nconst allProjects = document.querySelectorAll(\".projects__item\");\n\n// SET NUMBER OF PROJECTS INTO THE PROJECTS BTNS\n\nallProjectsBtn.innerHTML = `Все проекты (${allProjects.length})`;\npersonProjectsBtn.innerHTML = `Личные проекты (${\n  document.querySelectorAll(\".jsPersonProject\").length\n})`;\ntrainingProjectsBtn.innerHTML = `Тренировка навыков (${\n  document.querySelectorAll(\".jsTrainingProject\").length\n})`;\n\n// PROJECTS__BUTTONS\nconst btnsProjects = document.querySelector(\".projects__btn-list\");\n\nbtnsProjects.addEventListener(\"click\", function (e) {\n  const btn = e.target;\n  if (!btn.closest(\".projects__btn\")) return;\n  if (btn.closest(\".jsOnlyAllProjects\"))\n    return showProjects(allProjects, \"projects__item\");\n  if (btn.closest(\".jsOnlyPersonProjects\"))\n    return showProjects(allProjects, \"jsPersonProject\");\n  if (btn.closest(\".jsOnlyTrainingProjects\"))\n    showProjects(allProjects, \"jsTrainingProject\");\n});\n\n// ROTATE FOR FEATURES\n\nsetFeatureSummaryRotate();\n\n// OPENING FEATURES\n\nconst featureBtns = document.querySelectorAll(\".feature__button\");\n\nfeatureBtns.forEach((btn) => btn.addEventListener(\"click\", openMenuFeatures));\n\n// CHANGING THEME\ncheckThemeFromLocalStorage();\nconst btnsNavList = document.querySelector(\".nav__btn-wrapper\");\n\nbtnsNavList.addEventListener(\"click\", changeTheme);\n"]}