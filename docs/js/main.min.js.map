{"version":3,"sources":["main.min.js"],"names":["hoverNavLinks","toggleMenu","showModalWindow","closeMenu","scrollTo","PROJECTS_LIST","addProjectsToHTML","stickyNavObserver","showProjects","setFeatureSummaryRotate","openMenuFeatures","changeTheme","checkThemeFromLocalStorage","surfacingSections","createAllFeatures","FEATURES_LIST","preloadedImage","allProjectsBtn","document","querySelector","personProjectsBtn","trainingProjectsBtn","supportsWebP","canvas","createElement","getContext","toDataURL","indexOf","window","onload","pixelRatio","devicePixelRatio","imageSuffix","getElementById","checked","matchMedia","matches","Image","src","concat","isWebPSupported","menu","main","btnMenu","style","visibility","addEventListener","btnList","header","e","bind","btnDisploma","modalWindow","body","observe","bioSect","overlay","hideModalWindow","btnCloseModal","allProjects","classList","remove","close","btnsProjects","querySelectorAll","featureBtns","length","innerHTML","featureSummary","btn","target","closest","btnsNavList","forEach"],"mappings":"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","file":"main.min.js","sourcesContent":["import { hoverNavLinks } from \"./DarkeningNav.js\";\nimport { toggleMenu } from \"./menu.js\";\nimport { showModalWindow } from \"./modalWindow.js\";\nimport { closeMenu } from \"./menu.js\";\n//import { toKnowHeaderHeight } from \"./navigation.js\";\nimport { scrollTo } from \"./navigation.js\";\nimport { PROJECTS_LIST } from \"./PROJECTS_LIST.js\";\nimport { addProjectsToHTML } from \"./projects.js\";\nimport { stickyNavObserver } from \"./navigation.js\";\nimport { showProjects } from \"./projects.js\";\nimport { setFeatureSummaryRotate } from \"./feature.js\";\nimport { openMenuFeatures } from \"./feature.js\";\nimport { changeTheme } from \"./changingTheme.js\";\nimport { checkThemeFromLocalStorage } from \"./changingTheme.js\";\nimport surfacingSections from \"./surfacingSections.js\";\nimport createAllFeatures from \"./features.js\";\nimport { FEATURES_LIST } from \"./FEATURES_LIST.js\";\n\n// CONSTANTS\n\nconst allProjectsBtn = document.querySelector(\".jsOnlyAllProjects\");\nconst personProjectsBtn = document.querySelector(\".jsOnlyPersonProjects\");\nconst trainingProjectsBtn = document.querySelector(\".jsOnlyTrainingProjects\");\n\n// PRELOAD IMAGE OF MODALWINDOW\n\nexport let preloadedImage;\n\n// Функция для проверки поддержки WebP\nexport function supportsWebP() {\n  const canvas = document.createElement(\"canvas\");\n  if (!canvas.getContext || !canvas.getContext(\"2d\")) {\n    return false;\n  }\n  return canvas.toDataURL(\"image/webp\").indexOf(\"data:image/webp\") === 0;\n}\n\nwindow.onload = function () {\n  // Определяем устройство и загружаем соответствующее изображение\n  const isWebPSupported = supportsWebP();\n  const pixelRatio = window.devicePixelRatio; // Получаем коэффициент пикселей\n\n  const firstProjectsBtn = document.getElementById(\"all-ptojects\");\n  firstProjectsBtn.checked = true;\n\n  let imageSuffix = \"\";\n  if (pixelRatio >= 4) {\n    imageSuffix = \"4x\"; // Retina 4x\n  } else if (pixelRatio >= 3) {\n    imageSuffix = \"3x\"; // Retina 3x\n  } else if (pixelRatio >= 2) {\n    imageSuffix = \"2x\"; // Retina 2x\n  } else {\n    imageSuffix = \"\"; // no Retina\n  }\n\n  if (window.matchMedia(\"(min-width: 1280px)\").matches) {\n    preloadedImage = new Image();\n    preloadedImage.src = isWebPSupported\n      ? `./img/CollegeGradesDesk${imageSuffix}.webp`\n      : `./img/CollegeGradesDesk${imageSuffix}.jpg`; // Desktops\n  } else if (window.matchMedia(\"(min-width: 768px)\").matches) {\n    preloadedImage = new Image();\n    preloadedImage.src = isWebPSupported\n      ? `./img/CollegeGradesTablet${imageSuffix}.webp`\n      : `./img/CollegeGradesTablet${imageSuffix}.jpg`; // Tablets\n  } else {\n    preloadedImage = new Image();\n    preloadedImage.src = isWebPSupported\n      ? `./img/CollegeGradesMobile${imageSuffix}.webp`\n      : `./img/CollegeGradesMobile${imageSuffix}.jpg`; // Mobiles\n  }\n};\n\n// MENU\nconst main = document.querySelector(\".main\");\nconst menu = document.querySelector(\".nav__list\");\nconst btnMenu = document.querySelector(\".nav__btn-menu\");\nconst header = document.querySelector(\".header__container\");\n\n// (function () {\n//   main.style.paddingTop = `calc(3em)`;\n// })();\n\n(function () {\n  btnMenu.style.visibility = \"visible\";\n})();\n\nbtnMenu.addEventListener(\"click\", toggleMenu);\n\n// closeMenu();\n\n// DARKENING NAVIGATION\nif (window.innerWidth >= 768) {\n  header.addEventListener(\"mouseover\", hoverNavLinks.bind(\"0.4\"));\n  header.addEventListener(\"mouseout\", hoverNavLinks.bind(\"1\"));\n}\n\n// SCROLLING TO SECTIONS FROM NAVIGATION\n\nconst btnList = document.querySelector(\".nav__list\");\n\nbtnList.addEventListener(\"click\", function (e) {\n  closeMenu();\n  scrollTo(e);\n});\n\n// STICKY NAVIGATION\nconst bioSect = document.querySelector(\".bio\");\n\nstickyNavObserver.observe(bioSect);\n\n// MODAL WINDOWS\nconst body = document.querySelector(\".body\");\nconst btnDisploma = document.querySelector(\".js-education__btn-click\");\n\nconst modalWindow = document.querySelector(\".modal\");\nconst overlay = document.querySelector(\".overlay\");\nconst btnCloseModal = document.querySelector(\".modal__btn\");\n\nconst hideModalWindow = function () {\n  overlay.classList.remove(\"jsOverlay\");\n  closeMenu();\n  modalWindow.close();\n};\n\nbtnDisploma.addEventListener(\"click\", function () {\n  showModalWindow(\"CollegeGrades\", \"Мое фото\");\n});\noverlay.addEventListener(\"click\", hideModalWindow);\nbtnCloseModal.addEventListener(\"click\", hideModalWindow);\n\n//PROJECTS_LIST\n\naddProjectsToHTML(PROJECTS_LIST);\n\nconst allProjects = document.querySelectorAll(\".projects__item\");\n\n// SET NUMBER OF PROJECTS INTO THE PROJECTS BTNS\n\nallProjectsBtn.innerHTML = `Все проекты (${allProjects.length})`;\npersonProjectsBtn.innerHTML = `Личные проекты (${\n  document.querySelectorAll(\".jsPersonProject\").length\n})`;\ntrainingProjectsBtn.innerHTML = `Тренировка навыков (${\n  document.querySelectorAll(\".jsTrainingProject\").length\n})`;\n\n// PROJECTS__BUTTONS\nconst btnsProjects = document.querySelector(\".projects__btn-list\");\n\nbtnsProjects.addEventListener(\"click\", function (e) {\n  const btn = e.target;\n  if (!btn.closest(\".projects__btn\")) return;\n  if (btn.closest(\".jsOnlyAllProjects\"))\n    return showProjects(allProjects, \"projects__item\");\n  if (btn.closest(\".jsOnlyPersonProjects\"))\n    return showProjects(allProjects, \"jsPersonProject\");\n  if (btn.closest(\".jsOnlyTrainingProjects\"))\n    showProjects(allProjects, \"jsTrainingProject\");\n});\n\n// CREATING ALL FEATURES\n\ncreateAllFeatures(FEATURES_LIST);\n\n// ROTATE FOR FEATURES\n\nconst featureSummary = document.querySelectorAll(\".feature__summary\");\n\nsetFeatureSummaryRotate(featureSummary);\n\n// OPENING FEATURES\n\nconst featureBtns = document.querySelectorAll(\".feature__button\");\n\nfeatureBtns.forEach((btn) => btn.addEventListener(\"click\", openMenuFeatures));\n\n// CHANGING THEME\ncheckThemeFromLocalStorage();\nconst btnsNavList = document.querySelector(\".nav__btn-wrapper\");\n\nbtnsNavList.addEventListener(\"click\", changeTheme);\n\n// SURFACING PARTS\nsurfacingSections();\n"]}